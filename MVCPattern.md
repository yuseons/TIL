# ğŸ”¸ MVC(Model, View, Controller) Pattern



## â—» MVC Pattern

\- MVC íŒ¨í„´ì€ ëª¨ë¸(Model), ë·°(View), ì»¨íŠ¸ë¡¤ëŸ¬(Controller)ë¡œ ì´ë£¨ì–´ì§„ë‹¤.

\- ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ì„ êµ¬ì„±í•˜ëŠ” ì„œë²„ ëª¨ë“ˆì„ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” ê²ƒì€ ë·°(View), 

â€‹	ìë£Œì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ë¥¼ ëª¨ë¸(Model), 

â€‹	ì´ë“¤ ìƒí˜¸ ê°„ì˜ íë¦„ì„ ì œì–´í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬(Controller)ë¡œ ë¶„ë¦¬í•˜ì—¬ ê°œë°œí•œë‹¤.

\- MVCëŠ” ìƒˆë¡œìš´ ê°œë°œ ë°©ë²•ì´ ì•„ë‹ˆë¼ ê¸°ì¡´ì˜ MVC ê°œë°œ ëª¨ë¸ì´ ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ ê°œë°œì—ë„ ì í•©í•˜ë‹¤ëŠ” ê²ƒì´ ì…ì¦ë˜ì–´, JSP ê°œë°œìë“¤ì—ê²Œ ê¶Œê³ í•˜ëŠ” ê°œë°œ ëª¨ë¸ì´ë‹¤.



### ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ í‘œí˜„ì˜ ë¶„ë¦¬

- ì¥ì 
  \- ë””ìì´ë„ˆëŠ” í‘œí˜„ì— ì§‘ì¤‘, í”„ë¡œê·¸ë˜ë¨¸ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì „ë…í•˜ì—¬ ê°œë°œí•˜ë¯€ë¡œ íš¨ìœ¨ì„±ì´ ë†’ì•„ì§„ë‹¤.

  \- ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ì˜ ìˆ˜ì •ì´ ì‰½ë‹¤.

  \- ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ì˜ í™•ì¥ì´ ì‰½ë‹¤.

  \- ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ì˜ ìœ ì§€ ë³´ìˆ˜ê°€ ì‰½ë‹¤.

  \- jspì™€ javabeansë¡œ ê°œë°œí•œ ê²½ìš°ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ í‘œí˜„ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê¸° ì‰½ì§€ ì•Šì„ ë¿ ì•„ë‹ˆë¼ í”„ë¡œì íŠ¸ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ ë”ìš± ì–´ë ¤ì›€ ìƒê¸´ë‹¤.

  \- ì´ëŸ¬í•œ ë¬¸ì œì˜ í•´ê²°ì±…ìœ¼ë¡œ ì›¹ ì‘ìš©í”„ë¡œê·¸ë¨ì„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ í‘œí˜„ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ê°œë°œí•˜ê³ ì í•˜ëŠ” ê²ƒì´ MVC ëª¨ë¸ì´ë‹¤.

![mvc](https://github.com/yuseons/TIL/blob/master/image/MVC.jpg)

![MVC2](https://github.com/yuseons/TIL/blob/master/image/MVC2.jpg)



## â—» MVC ê°œë°œ



### [1] JSP+JavaBeansê°œë°œê³¼ MVC ëª¨ë¸ êµ¬ì¡°



#### 1. Model 1 (JSP+JavaBeans) ì˜ êµ¬ì¡° 

![model1](https://github.com/yuseons/TIL/blob/master/image/model1.jpg))

\- ë¸Œë¼ìš°ì €ì˜ ìš”ì²­ì„ **JSPê°€ ì „ë¶€ ë‹¤ ì²˜ë¦¬**í•œë‹¤.
\- ì›¹ ë¸Œë¼ìš°ì €ì˜ ìš”ì²­ì„ ë°›ì€ JSPëŠ” ìë°”ë¹ˆì´ë‚˜ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³ , ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì¶œë ¥í•œë‹¤.

-  ìš”ì²­ê³¼ ì‘ë‹µ ëª¨ë‘ JSPê°€ ì²˜ë¦¬í•œë‹¤.

- Model1 êµ¬ì¡°ì˜ ë‹¨ì  

â€‹	:  JSP íŒŒì¼ì—ì„œ ëª¨ë‘ ì²˜ë¦¬í•˜ë¯€ë¡œ ì—­í•  êµ¬ë¶„ì´ ëª…í™•í•˜ì§€ ì•Šê³  ë””ë²„ê¹…ê³¼ ìœ ì§€ ë³´ìˆ˜ê°€ ì–´ë µë‹¤.



#### 2. Model2 (MVC) êµ¬ì¡°

: Model 1ì˜ ë¬¸ì œì ì„ ë³´ì™„

![model2](https://github.com/yuseons/TIL/blob/master/image/model2.jpg)



: 1. ë¸Œë¼ìš°ì €ì˜ ìš”ì²­ì„ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë°›ê³  ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ê·¸ ë¸Œë¼ìš°ì €ì˜ ìš”ì²­ì„ ë¶„ì„í•˜ì—¬ Viewë¡œ ë³´ì—¬ì¤„ ê²ƒì¸ì§€ 	     	Modelë¡œ ë³´ë‚´ì¤„ ê²ƒì¸ì§€ ê²°ì •í•˜ì—¬ ì „ì†¡í•œë‹¤.

2. Modelë¡œ ì „ì†¡í–ˆë‹¤ë©´ ìš”ì²­ì„ ë¶„ì„í•˜ì—¬ ì–´ë– í•œ ëª¨ë¸ì„ ì‚¬ìš©í• ì§€ ì •í•˜ê³ , í˜¸ì¶œëœ ëª¨ë¸ì€ ë°ì´í„°ë“¤ì„ ì²˜ë¦¬í•œ í›„ ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ê²°ê³¼ë¥¼ ë³´ë‚¸ë‹¤.

3. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê·¸ ê²°ê³¼ë¥¼ ì•Œë§ì€ ë·°ì—ê²Œ ë³´ë‚´ê³  ë·°ëŠ” ë¸Œë¼ìš°ì €ì—ê²Œ ì‘ë‹µí•œë‹¤.


- ëª¨ë¸ 2ëŠ” ìš”ì²­ì€ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë°›ê³  ì‘ë‹µì€ ë·°ê°€ í•œë‹¤.

- ëª¨ë¸ 2 ë°©ì‹ì€ Viewì™€ Controllerë¥¼ ë¶„ë¦¬í•˜ë¯€ë¡œ ë””ìì´ë„ˆì™€ ê°œë°œìì˜ ë¶„ì—…ì´ ê°€ëŠ¥í•˜ë©° ìœ ì§€ ë³´ìˆ˜ì— ìœ ë¦¬í•˜ë‹¤.


> Model 1ì˜ ë°©ì‹ìœ¼ë¡œ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ëŠ” ì‚¬ë¡€ëŠ” ì•„ì˜ˆ ì—†ë‹¤ê³  ë´ë„ ë¬´ë°©í•˜ë‹¤ê³  í•œë‹¤.   ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ì—­í•  ë¶„ë‹´ì´ ëª¨í˜¸í•˜ê¸° ë•Œë¬¸ì´ë‹¤.



#### Controllerì˜ ì²˜ë¦¬ìˆœì„œ 


```
Browser  ---> Servlet(Controller) 

        	  1. HTTP ìš”ì²­ë°›ìŒ, doGet(), doPost()ë©”ì†Œë“œ ìë™í˜¸ì¶œ 

        	  2. í´ë¼ì´ì–¸íŠ¸ê°€ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ë¶„ì„(ë°©ëª…ë¡ì˜ ê²½ìš° ê¸€ì“°ê¸° ë“±) 
        	  
        	  3. ìš”ì²­í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬í•˜ëŠ” Model ì‚¬ìš©, Business Logic Class 

        	  4. ê²°ê³¼ë¥¼ request ë˜ëŠ” sessionì˜ setAttribute()ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ 

        	  5. ì•Œë§ì€ ë·° ì„ íƒ 

        	  6. ë·°ë¡œ í¬ì›Œë”©(ë˜ëŠ” ë¦¬ë‹¤ì´ë ‰íŠ¸)   
             	  -> JSPë¡œ ì´ë™
        	       -> HTTP ì‘ë‹µ
        	        -> ë¸Œë¼ìš°ì € 

```



#### Command Patternì— ê¸°ë°˜í•œ Controllerì˜ ì²˜ë¦¬ìˆœì„œ 

- Command Handler : Interface, ì¶”ìƒ í´ë˜ìŠ¤ì˜ í˜•íƒœ 
    									JSP Beans, EJBë¥¼ í†µí•´ì„œ Command Handlerë¥¼ êµ¬í˜„í•œë‹¤. 


```
   Browser  -------->  Servlet(Controller) 

             			1. HTTP ìš”ì²­ë°›ìŒ 
             			
                        2. í´ë¼ì´ì–¸íŠ¸ê°€ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ë¶„ì„ 
                        
                        3. ë¡œì§ì„ ì²˜ë¦¬í•  ëª…ë ¹ì–´ í•¸ë“¤ëŸ¬ ìƒì„± ----> Command Handler 
                        
                        4. ëª…ë ¹ì–´ í•¸ë“¤ëŸ¬ë¥¼ ì´ìš©í•´ ë¡œì§ ì²˜ë¦¬ ----> ë¡œì§ ì²˜ë¦¬ (Class) 
                           ->  ê²°ê³¼ ì €ì¥ 
    						-> ë·° ë¦¬í„´
    						
                        5. ëª…ë ¹ì–´ í•¸ë“¤ëŸ¬ê°€ ë¦¬í„´ í•œ ë·°ë¡œ í¬ì›Œë”©(ë˜ëŠ” ë¦¬ë‹¤ì´ë ‰íŠ¸) 
    						->  JSPë¡œ ì´ë™
    							-> HTTP ì‘ë‹µ 
    								-> ë¸Œë¼ìš°ì €
```



### [2] MVC App ê°œë°œ ìˆœì„œ 



#### 1. JSP + JavaBeans ê°œë°œ ìˆœì„œ  ( Model 1 )

1. DBMS ì„¤ì •
2. DTO(Data Transfer Object) Class ì œì‘ 
3. DAO(Data Access Object) Class ì œì‘ 
4. Service Class ì œì‘ 
5. Service/DAO test 
6.  JSP ìƒì„± ì—°ë™ 



#### 2. MVC Web Application ê°œë°œ ìˆœì„œ ( Model 2 )
1. DBMS ì„¤ì • 
2. DTO(Data Transfer Object) Class ì œì‘ 
3. DAO(Data Access Object) Class ì œì‘ 
4. Service Class ì œì‘ 
5. Service/DAO test 
6. Servlet Controller ì œì‘ 
7. Action Interface ì œì‘ 
8. Action êµ¬í˜„ Class ì œì‘ 
9. Service Class ì—°ë™  
10. JSP ìƒì„± ì—°ë™ 



## â—» Properties class, String class, Class class

### [1] Properties Class

 \- í‚¤ì™€ ê°’ì˜ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©° íŠ¹ì • ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš°ì— ì´ˆê¸°ê°’ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•œë‹¤.

 \- Properties í´ë˜ìŠ¤ëŠ” Hashtablesì˜ í•˜ìœ„ í´ë˜ìŠ¤ì´ë‹¤.

 \- Hashtablesë¥¼ ìƒì† ë°›ì•˜ê¸° ë•Œë¬¸ì— Mapì˜ ì†ì„± ì¦‰, Keyì™€ Valueë¥¼ ê°–ëŠ”ë‹¤.

 \- HashMapê³¼ í° ì°¨ì´ê°€ ì—†ì§€ë§Œ, Properties í´ë˜ìŠ¤ëŠ” íŒŒì¼ ì…ì¶œë ¥ì„ ì§€ì›í•œë‹¤.

 \- key=value í˜•ì‹ìœ¼ë¡œ ì‘ì„± ëœ íŒŒì¼ì„ keyì™€ value ë¡œ ë‚˜ëˆ„ì–´ ì €ì¥í•  ë•Œ ìœ ìš©í•˜ë‹¤.



 \- ìƒì† êµ¬ì¡°

java.lang.Object 
  java.util.Dictionary<K,V> 
    java.util.Hashtable<Object,Object> 
      java.util.Properties<String,String> 



#### 1. JAVA ì›¹ í”„ë¡œì íŠ¸ì—ì„œ Properties íŒŒì¼ í™œìš©

- ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘í•˜ìë§ˆì ê°€ì ¸ì™€ì•¼í•˜ëŠ” ì •ë³´ë“¤ì„ í”„ë¡œí¼í‹° íŒŒì¼ì— ì‘ì„±í•´ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
- í”„ë¡œí¼í‹° íŒŒì¼ì€ í•œ ì¤„ì— key=value í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ê³  .properties í™•ì¥ìë¥¼ ë¶™ì—¬ì„œ ì €ì¥í•œë‹¤.
** **ì‘ì„±í•œ í›„** ê° ì¤„ì˜ ë§¨ë’¤ì— **ë¹ˆê³µê°„ì´ ì—†ì–´ì•¼í•œë‹¤.** 

```
driver=oracle.jdbc.driver.OracleDriver
url=jdbc:oracle:thin:@127.0.0.1:1521:XE
account=user1234
password=1234
```
- java.util.Properties í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ í”„ë¡œí¼í‹° íŒŒì¼ì„ ë‹¤ë£¬ë‹¤. 
	- PropertiesëŠ” key=value í˜•ì‹ì˜ í…ìŠ¤íŠ¸ íŒŒì¼ì„ ë‹¤ë£° ë•Œ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ë‹¤.



 #### 2. Properties ì£¼ìš” ë©”ì†Œë“œ




| ë©”ì†Œë“œ                                              | ì„¤ëª…                                                         |
| :-------------------------------------------------- | ------------------------------------------------------------ |
| String getProperty(String key)                      | ì§€ì •ëœ í‚¤(key)ì™€ ê°’(value)ë¥¼ ë°˜í™˜                            |
| String getProperty(String key, String defaultValue) | ì§€ì •ëœ í‚¤(key)ì™€ ê°’(value)ë¥¼ ë°˜í™˜ (í‚¤ë¥¼ ì°¾ì§€ëª»í•˜ë©´ defaultValueë¥¼ ë°˜) |
| void list(PrintStream out)                          | ì§€ì •í•œ PrintStreamì— ì €ì¥ëœ ëª©ë¡ì„ ì¶œë ¥                      |
| void list(PrintWriter out                           | ì§€ì •í•œ PrintWriterì— ì €ì¥ëœ ëª©ë¡ì„ ì¶œë ¥                      |
| void load(InputStream inStream)                     | ì§€ì •ëœ InputStreamìœ¼ë¡œë¶€í„° ëª©ë¡ì„ ì½ì–´ì„œ ì €ì¥                |
| void load(InputStream inStream)                     | ì¸ìë¡œ ì „ë‹¬ëœ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œë¶€í„° í‚¤ì™€ ìš”ì†Œê°€ í•œ ìŒìœ¼ë¡œ êµ¬ì„±ëœ ì†ì„± ëª©ë¡ë“¤ì„ ì½ì–´ì™€ì„œ Properties ê°ì²´ì— ì €ì¥ |
| void loadFromXML(InputStream in)                    | ì§€ì •ëœ InputStreamìœ¼ë¡œë¶€í„° XMLë¬¸ì„œë¥¼ ì½ê³ , XMLë¬¸ì„œì— ì €ì¥ëœ ëª©ë¡ì„ ì½ì–´ì„œ ë‹´ìŒ (load&store) |
| Enumeration                                         | ëª©ë¡ì˜ ëª¨ë“  í‚¤(key)ê°€ ë‹´ê¸´ Enumerationì„ ë°˜í™˜                |
| getProperty(String                                  | ì§€ì •ëœ í‚¤ì˜ ê°’ì„ ë°˜í™˜                                        |
| Object setProperty(String key, String value)        | - ì§€ì •ëœ í‚¤ì™€ ê°’ì„ ì €ì¥.     - ì´ë¯¸ ì¡´ì¬í•˜ëŠ” í‚¤ë©´ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ë°”ë€œ.                - ê¸°ì¡´ì— ê°™ì€ í‚¤ë¡œ ì €ì¥ëœ ê°’ì´ ìˆëŠ” ê²½ìš° ê·¸ ê°’ì„ Objectíƒ€ì…ìœ¼ë¡œ ë°˜í™˜í•˜ë©° ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ nullì„ ë°˜í™˜ |

```java
Properties properties = new Properties(); // ê°ì²´ìƒì„±

properties.getProperty("website");    // getPropertyë¡œ í‚¤ê°’ êº¼ë‚´ê¸°

properties.load(new Filereader(filePath)); //íŒŒì¼ì˜ ë‚´ìš©ì„ ì½ì–´ì„œ í‚¤-ê°’ì˜ í˜•íƒœë¡œ ë¶„ë¥˜í•´ì„œ ë§µì— ë³´ê´€
```

